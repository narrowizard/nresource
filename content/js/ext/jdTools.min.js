function jdPostRequest(t,e,i,n){$.ajax({url:t,data:e,type:"POST",success:function(t){if("string"==typeof t&&(t=JSON.parse(t)),0==t.Code)i(t.Data);else{if(1e3==t.Code&&(window.location="/page/login"),n)return void n(t.Message,t.Code,t.Data);jdAlertDialog.Alert(t.Message)}},error:function(){jdAlertDialog.Alert("网络连接失败!")}})}function jdGetRequest(t,e,i,n){$.ajax({url:t,data:e,type:"GET",success:function(t){0==t.Code&&i(t.Data)},error:function(){}})}function RegisterValidator(t,e){validators[t]=e}function validateForm(t,e,i){var n=$(t),s=!0;return i&&i(n.find("input,textarea"),n),n.find("input,textarea").each(function(t,i){var a=$(i).val();for(var o in validators){var r=$(i).attr(o);if(r&&!validators[o](a,r))return s=!1,e&&e(i,$(i).attr("data-valid-error"),n),!1}}),s}function gotoTop(t,e){t=t||.1,e=e||10;var i=0,n=0,s=0,a=0,o=0,r=0;document.documentElement&&(i=document.documentElement.scrollLeft||0,n=document.documentElement.scrollTop||0),document.body&&(s=document.body.scrollLeft||0,a=document.body.scrollTop||0);var o=window.scrollX||0,r=window.scrollY||0,l=Math.max(i,Math.max(s,o)),u=Math.max(n,Math.max(a,r)),c=1+t;if(window.scrollTo(Math.floor(l/c),Math.floor(u/c)),l>0||u>0){var h="gotoTop("+t+", "+e+")";window.setTimeout(h,e)}}function bindInputEnterKey(t,e){$("#"+t).keypress(function(t){13==t.keyCode&&$("#"+e).click()})}!function(t){var e={ulClass:"select_inner",liClass:"word_mark",placeholder:"",spanClass:"word_mark",onLiClick:null,defaultValue:""};t.fn.jdDropDown=function(i,n){var s=t.extend(!0,{},e,i),a={target:{},span:{},data:[],ul:{},setData:function(t){t&&(this.data=t,this.refreshView())},refreshView:function(){var e=this;e.ul.html("");for(var i=0;i<this.data.length;i++)e.ul.append("<li class='"+e.options.liClass+"' data-value='"+e.data[i].value+"' ><a class='a_size'>"+e.data[i].name+"</a></li>");e.target.unbind("click"),e.target.click(function(){e.ul.slideToggle("fast")}),e.ul.children("li").click(function(){e.span.text(t(this).text()),e.span.attr("data-value",t(this).attr("data-value")),e.options.onLiClick&&e.options.onLiClick(t(this).attr("data-value"),t(this).text(),t(this).index(),e.target)}),this.options.defaultValue?this.selectByValue(this.options.defaultValue)||(this.options.placeholder?this.span.text(this.options.placeholder):this.select(0)):this.options.placeholder?this.span.text(this.options.placeholder):this.select(0)},select:function(t){0>t||t>this.data.length-1||(this.span.text(this.data[t].name),this.span.attr("data-value",this.data[t].value))},selectByValue:function(t){for(var e=0;e<this.data.length;e++)if(this.data[e].value==t)return this.select(e),!0;return!1},setLiClick:function(t){this.options.onLiClick=t},getValue:function(){return this.span.attr("data-value")}},o=[];return this.each(function(e,i){var r=t.extend(!0,{},a,{options:s});r.target=t(i),r.span=t("<span class='"+r.options.spanClass+"'></span>"),r.ul=t("<ul class="+r.options.ulClass+"></ul>"),r.target.append(r.span),r.target.append(r.ul),r.setData(n),o.push(r)}),o}}(jQuery);var validators={};Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in e)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[i]:("00"+e[i]).substr((""+e[i]).length)));return t},function(t){var e={hours:0,minutes:0,seconds:0,step:1,interval:1e3,format:"hh:mm:ss",onFinished:null,onTick:null,immediately:!1};t.jdCountDown=function(i){var n=t.extend(!0,{},e,i),s={tickStatus:!1,count:0,cur:0,timer:null,setInterval:function(){var t=this;null==this.timer&&(this.timer=setInterval(function(){t.tick()},this.options.interval))},clearInterval:function(){null!=this.timer&&(clearInterval(this.timer),this.timer=null)},start:function(){null==this.timer&&(this.translateTime(),this.cur=this.count,this.tickStatus=!0,this.options.immediately&&this.tick(),this.setInterval())},tick:function(){return this.tickStatus?void(this.cur>0?(this.cur-=this.options.step,this.options.onTick&&this.options.onTick(new Date(0,0,0,0,0,this.cur).Format(this.options.format))):(this.tickStatus=!1,this.clearInterval(),this.options.onFinished&&this.options.onFinished())):void this.clearInterval()},pause:function(){this.timer&&(this.clearInterval(),this.tickStatus=!1)},reset:function(){this.pause(),this.cur=this.count,this.recover()},stop:function(){this.clearInterval(),this.cur=0,this.tickStatus=!1},recover:function(){null==this.timer&&(this.tickStatus=!0,this.setInterval())},setTime:function(t,e,i){this.tickStatus||(this.options.hours=t,this.options.minutes=e,this.options.seconds=i,this.translateTime())},translateTime:function(){var t=new Date(0);t.setHours(this.options.hours),t.setTime(t.getTime()+288e5),t.setMinutes(this.options.minutes),t.setSeconds(this.options.seconds),this.count=t.getTime()/1e3}},a=t.extend(!0,{},s,{options:n});return a}}(jQuery),function(t){var e={mask:!1,maskClass:"",maskId:"",delay:300,closeOnClick:!1,zIndex:1,closeButton:".close"};t.fn.jdOverlay=function(i){var n=t.extend(!0,{},e,i),s={container:{},target:{},mask:{},open:function(){this.container.fadeIn(this.options.delay)},close:function(){this.container.fadeOut(this.options.delay)},setWidth:function(t){this.target.css("width",t)},draggable:function(){this.container.css({left:200,top:-200}),this.container.draggable({})}},a=t.extend(!0,{},s,{options:n});if(a.target=this,a.target.wrap("<div></div>"),a.container=a.target.parent(),a.container.css("z-index",a.options.zIndex),a.container.css("display","none"),a.target.css("display","block"),a.options.mask&&(a.mask=t("<div class='"+a.options.maskClass+"' id='"+a.options.maskId+"' ></div>"),a.container.append(a.mask),a.options.closeOnClick)){var o=a;a.mask.click(function(){o.close()})}return a.options.closeButton&&a.container.find(a.options.closeButton).click(function(){a.close()}),a}}(jQuery),function(t){var e={activeClass:"active",ulSelector:"",imgSelector:""};t.jdSlider=function(i,n){var s=t.extend(!0,{},e,i),a={data:[],ul:{},img:{},getItem:function(t){return 0>t||t>this.data.length-1?null:this.data[t]},length:function(){return this.data.length},refreshView:function(){var e=this;this.ul.html("");for(var i=0;i<this.length();i++){var n="<li><img src='"+this.getItem(i).thumbnail+"' /></li>";this.ul.append(n)}this.ul.children("li").hover(function(){var i=t(this),n=i.index();e.img.attr("src",e.getItem(n).url),e.ul.children("li").removeClass(e.options.activeClass),i.addClass(e.options.activeClass)}),this.select(0)},select:function(t){0>t||t>this.data.length-1||(this.img.attr("src",this.getItem(t).url),this.ul.children("li").removeClass(this.options.activeClass),this.ul.children("li").eq(t).addClass(this.options.activeClass))}},o=t.extend(!0,{},a,{options:s});return o.data=n,o.ul=t(o.options.ulSelector),o.img=t(o.options.imgSelector),o.refreshView(),o}}(jQuery),function(){var t=new Date("2011-06-02T09:34:29+02:00");t&&1307000069e3===+t?Date.fromISO=function(t){return new Date(t)}:Date.fromISO=function(t){var e,i,n=/^(\d{4}\-\d\d\-\d\d([tT ][\d:\.]*)?)([zZ]|([+\-])(\d\d):(\d\d))?$/,s=n.exec(t)||[];if(s[1]){e=s[1].split(/\D/);for(var a=0,o=e.length;o>a;a++)e[a]=parseInt(e[a],10)||0;return e[1]-=1,e=new Date(Date.UTC.apply(Date,e)),e.getDate()?(s[5]&&(i=60*parseInt(s[5],10),s[6]&&(i+=parseInt(s[6],10)),"+"==s[4]&&(i*=-1),i&&e.setUTCMinutes(e.getUTCMinutes()+i)),e):NaN}return NaN}}(),function(t){var e={getUrlData:null,getData:null,pageSize:10,pageCount:1,autoHide:!0};t.fn.jdPagable=function(i){var n=t.extend(!0,{},e,i),s={target:{},curPage:1,pageCount:1,setPageCount:function(t){this.pageCount=t,this.target.find(".pageCount").text(t)},setRecordCount:function(t){this.pageCount=Math.ceil(t/this.options.pageSize),this.target.find(".pageCount").text(this.pageCount)},resetPage:function(){this.curPage=1,this.refreshHtml()},getPageNumber:function(){return this.curPage},getCurPage:function(){if(this.options.pageSize=this.target.find(".page-size").val(),this.options.getUrlData&&this.options.getUrlData()){var e=this.options.getUrlData(),i={Begin:(this.curPage-1)*this.options.pageSize,End:this.options.pageSize},n=t.extend(!0,{},e,i);this.options.getData||console.error("getData未定义"),this.options.getData(n),this.refreshHtml()}},refreshHtml:function(){var t=this;if(t.pageCount<2&&t.options.autoHide)return void t.target.html("");var e="";e+='<input type="button" value="首页" class="btn-blue first_page"><input type="button" value="上一页" class="btn-blue previous_page"><input type="button" value="下一页" class="btn-blue next_page"><input type="button" value="末页" class="btn-blue last_page"><span>页次&nbsp;<label class="curPage">'+this.curPage+'</label>/<label class="pageCount">'+this.pageCount+'</label>&nbsp;每页</span><input type="text" class="small-input page-size"  value='+this.options.pageSize+'><span>条&nbsp;跳转到</span><input type="text" value="'+this.curPage+'" class="small-input targe-page"><input type="button" value="跳转" class="btn-blue jump">',t.target.html(e),t.target.find(".first_page").click(function(){t.curPage=1,t.getCurPage()}),t.target.find(".last_page").click(function(){t.pageCount<1||(t.curPage=t.pageCount,t.getCurPage())}),t.target.find(".previous_page").click(function(){t.curPage<=1||(t.curPage--,t.getCurPage())}),t.target.find(".next_page").click(function(){t.curPage>=t.pageCount||(t.curPage++,t.getCurPage())}),t.target.find(".jump").click(function(){var e=t.target.find(".targe-page").val();!+e||1>e||e>t.pageCount||(t.curPage=e,t.getCurPage())})}},a=t.extend(!0,{},s,{options:n});return a.target=this,a.options.pageCount&&(a.setPageCount(a.options.pageCount),a.refreshHtml()),a.getCurPage(),a}}(jQuery),function(t){var e={onSync:null,interval:3};t.jdDataSynchronizer=function(i){var n=t.extend(!0,{},e,i),s={syncPool:{},push:function(e,i){var n=this;if(n.syncPool[e]){n.syncPool[e].data=i;var s=n.syncPool[e].timer;return void s.reset()}n.syncPool[e]={},n.syncPool[e].data=i;var a={seconds:n.options.interval,step:1,interval:1e3,onFinished:function(){n.options.onSync(n.syncPool[e].data),delete n.syncPool[e]},immediately:!1};n.syncPool[e].timer=t.jdCountDown(a),n.syncPool[e].timer.start()},remove:function(t){delete this.syncPool[t]}},a=t.extend(!0,{},s,{options:n});return a}}(jQuery),function(t){var e={elementId:"slide-bar",slideWidth:1280,speed:500,interval:5,onSlide:null,onWindowResize:null};t.jdSliderBar=function(i){var n=t.extend(!0,{},e,i),s={target:{},data:[],curIndex:0,slideLeft:!0,timer:null,isSliding:!1,slideLevel:0,setData:function(t){this.data=t,this.refreshView()},start:function(){var e=this,i={seconds:this.options.interval,onFinished:function(){e.next(),e.timer.reset()}};this.timer=t.jdCountDown(i),this.timer.start()},stop:function(){this.timer.stop()},refreshView:function(){for(var t="",e=0;e<this.data.length;e++)t+='<li class="divas-slide" data-index='+e+'><a href="'+this.data[e].url+'" ><img src="'+this.data[e].img+'" alt="'+this.data[e].alt+'"></a></li>';this.target.html(t),this.resizeWindow()},resizeWindow:function(){for(var e=t(window).width(),i=this.options.slideWidth,n=(e-i)/2,s=0;s<this.data.length;s++){var a=t("#slide-bar li").eq(s),o=+t(a).attr("data-index"),r=this.curIndex,l=o-r;e>i?t(a).css({left:n+l*i}):t(a).css({left:l*i})}this.options.onWindowResize&&(0>n&&(n=0),this.options.onWindowResize(e,i,n))},refreshViewAnimate:function(){for(var e=this,i=t(window).width(),n=this.options.slideWidth,s=0;s<this.data.length;s++){var a=t("#slide-bar li").eq(s),o=+t(a).attr("data-index"),r=this.curIndex,l=o-r;if(i>n){var u=(i-n)/2;t(a).animate({left:u+l*n},this.options.speed,function(){e.slideLevel++,e.slideLevel==e.data.length&&(e.isSliding=!1)})}else t(a).animate({left:l*n},this.options.speed,function(){e.slideLevel++,e.slideLevel==e.data.length&&(e.isSliding=!1)})}},slideTo:function(t){0>t||t>this.data.length-1||this.curIndex==t||this.isSliding||(this.isSliding=!0,this.slideLevel=0,this.slideLeft=this.curIndex>t,this.curIndex=t,this.refreshViewAnimate(),this.options.onSlide&&this.options.onSlide(t))},next:function(){this.slideTo(this.curIndex==this.data.length-1?0:this.curIndex+1)},prev:function(){this.slideTo(0==this.curIndex?this.data.length-1:this.curIndex-1)}},a=t.extend(!0,{},s,{options:n});return a.target=t("#"+a.options.elementId),t(window).resize(function(){a.resizeWindow()}),a}}(jQuery),function(t){var e={itemClass:"",activeClass:"active",onItemClick:null,multipleSelection:!1};t.fn.jdSelectButton=function(i){var n=t.extend({},!0,e,i),s={target:{},data:[],getData:function(){return this.data},setData:function(t){this.data=t,this.refreshView()},getSelectedId:function(){return this.target.find("input[type='button']").filter("."+this.options.activeClass).attr("data-id")},refreshView:function(){for(var e=this,i="",n=0;n<this.data.length;n++)i+="<input type='button' class='"+this.options.itemClass+"' data-id="+this.data[n].Id+" value="+(this.data[n].Name?this.data[n].Name:"未命名")+" />";this.target.html(i),this.target.find("input[type='button']").click(function(){e.options.multipleSelection?($this=t(this),$this.hasClass(e.options.activeClass)?$this.removeClass(e.options.activeClass):$this.addClass(e.options.activeClass)):(e.target.find("input[type='button']").removeClass(e.options.activeClass),t(this).addClass(e.options.activeClass)),e.options.onItemClick&&e.options.onItemClick(this)})},add:function(t){this.data.push(t),this.refreshView()},select:function(t){0>t||t>this.data.length-1||this.target.find("input[type='button']").eq(t).click()}},a=t.extend({},!0,s,{options:n});return a.target=this,a}}(jQuery);